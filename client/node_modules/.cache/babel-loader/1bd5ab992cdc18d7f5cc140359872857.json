{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\grego\\\\OneDrive\\\\Documents\\\\udemy-REACT-QUERY\\\\base-lazy-days\\\\client\\\\src\\\\components\\\\appointments\\\\Appointment.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, HStack, Text } from '@chakra-ui/react';\nimport dayjs from 'dayjs';\nimport { useUser } from '../user/hooks/useUser';\nimport { useReserveAppointment } from './hooks/useReserveAppointment';\nimport { appointmentInPast, getAppointmentColor } from './utils'; // determine whether this appointment can be reserved / un-reserved by logged-in user\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction isClickable(user, appointmentData) {\n  return !!((user === null || user === void 0 ? void 0 : user.id) && (!appointmentData.userId || appointmentData.userId === (user === null || user === void 0 ? void 0 : user.id)) && !appointmentInPast(appointmentData));\n}\n\nexport function Appointment({\n  appointmentData\n}) {\n  _s();\n\n  const {\n    user\n  } = useUser();\n  const reserveAppointment = useReserveAppointment();\n  const [textColor, bgColor] = getAppointmentColor(appointmentData, user === null || user === void 0 ? void 0 : user.id);\n  const clickable = isClickable(user, appointmentData);\n  let onAppointmentClick;\n  let hoverCss = {}; // turn the lozenge into a button if it's clickable\n\n  if (clickable) {\n    onAppointmentClick = user ? () => reserveAppointment(appointmentData) : undefined;\n    hoverCss = {\n      transform: 'translateY(-1px)',\n      boxShadow: 'md',\n      cursor: 'pointer'\n    };\n  }\n\n  const appointmentHour = dayjs(appointmentData.dateTime).format('h a');\n  return /*#__PURE__*/_jsxDEV(Box, {\n    borderRadius: \"lg\",\n    px: 2,\n    bgColor: bgColor,\n    color: textColor,\n    as: clickable ? 'button' : 'div',\n    onClick: onAppointmentClick,\n    _hover: hoverCss,\n    children: /*#__PURE__*/_jsxDEV(HStack, {\n      justify: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        as: \"span\",\n        fontSize: \"xs\",\n        children: appointmentHour\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"span\",\n        fontSize: \"xs\",\n        children: appointmentData.treatmentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Appointment, \"XdZY9nTLU5wD1J9iKiwzxJrOvuE=\", false, function () {\n  return [useUser, useReserveAppointment];\n});\n\n_c = Appointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Appointment\");","map":{"version":3,"sources":["C:/Users/grego/OneDrive/Documents/udemy-REACT-QUERY/base-lazy-days/client/src/components/appointments/Appointment.tsx"],"names":["Box","HStack","Text","dayjs","useUser","useReserveAppointment","appointmentInPast","getAppointmentColor","isClickable","user","appointmentData","id","userId","Appointment","reserveAppointment","textColor","bgColor","clickable","onAppointmentClick","hoverCss","undefined","transform","boxShadow","cursor","appointmentHour","dateTime","format","treatmentName"],"mappings":";;;AAAA,SAASA,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,QAAkC,kBAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,qBAAT,QAAsC,+BAAtC;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,QAAuD,SAAvD,C,CAEA;;;;AACA,SAASC,WAAT,CACEC,IADF,EAEEC,eAFF,EAGW;AACT,SAAO,CAAC,EACN,CAAAD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEE,EAAN,MACC,CAACD,eAAe,CAACE,MAAjB,IAA2BF,eAAe,CAACE,MAAhB,MAA2BH,IAA3B,aAA2BA,IAA3B,uBAA2BA,IAAI,CAAEE,EAAjC,CAD5B,KAEA,CAACL,iBAAiB,CAACI,eAAD,CAHZ,CAAR;AAKD;;AAMD,OAAO,SAASG,WAAT,CAAqB;AAC1BH,EAAAA;AAD0B,CAArB,EAE4B;AAAA;;AACjC,QAAM;AAAED,IAAAA;AAAF,MAAWL,OAAO,EAAxB;AACA,QAAMU,kBAAkB,GAAGT,qBAAqB,EAAhD;AACA,QAAM,CAACU,SAAD,EAAYC,OAAZ,IAAuBT,mBAAmB,CAACG,eAAD,EAAkBD,IAAlB,aAAkBA,IAAlB,uBAAkBA,IAAI,CAAEE,EAAxB,CAAhD;AAEA,QAAMM,SAAS,GAAGT,WAAW,CAACC,IAAD,EAAOC,eAAP,CAA7B;AACA,MAAIQ,kBAAJ;AACA,MAAIC,QAAQ,GAAG,EAAf,CAPiC,CASjC;;AACA,MAAIF,SAAJ,EAAe;AACbC,IAAAA,kBAAkB,GAAGT,IAAI,GACrB,MAAMK,kBAAkB,CAACJ,eAAD,CADH,GAErBU,SAFJ;AAGAD,IAAAA,QAAQ,GAAG;AACTE,MAAAA,SAAS,EAAE,kBADF;AAETC,MAAAA,SAAS,EAAE,IAFF;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAX;AAKD;;AAED,QAAMC,eAAe,GAAGrB,KAAK,CAACO,eAAe,CAACe,QAAjB,CAAL,CAAgCC,MAAhC,CAAuC,KAAvC,CAAxB;AACA,sBACE,QAAC,GAAD;AACE,IAAA,YAAY,EAAC,IADf;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,OAAO,EAAEV,OAHX;AAIE,IAAA,KAAK,EAAED,SAJT;AAKE,IAAA,EAAE,EAAEE,SAAS,GAAG,QAAH,GAAc,KAL7B;AAME,IAAA,OAAO,EAAEC,kBANX;AAOE,IAAA,MAAM,EAAEC,QAPV;AAAA,2BASE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,eAAhB;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,MAAT;AAAgB,QAAA,QAAQ,EAAC,IAAzB;AAAA,kBACGK;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,MAAT;AAAgB,QAAA,QAAQ,EAAC,IAAzB;AAAA,kBACGd,eAAe,CAACiB;AADnB;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD;;GA5Ced,W;UAGGT,O,EACUC,qB;;;KAJbQ,W","sourcesContent":["import { Box, HStack, Text } from '@chakra-ui/react';\r\nimport dayjs from 'dayjs';\r\nimport { ReactElement } from 'react';\r\n\r\nimport { Appointment as AppointmentType, User } from '../../../../shared/types';\r\nimport { useUser } from '../user/hooks/useUser';\r\nimport { useReserveAppointment } from './hooks/useReserveAppointment';\r\nimport { appointmentInPast, getAppointmentColor } from './utils';\r\n\r\n// determine whether this appointment can be reserved / un-reserved by logged-in user\r\nfunction isClickable(\r\n  user: User | null,\r\n  appointmentData: AppointmentType,\r\n): boolean {\r\n  return !!(\r\n    user?.id &&\r\n    (!appointmentData.userId || appointmentData.userId === user?.id) &&\r\n    !appointmentInPast(appointmentData)\r\n  );\r\n}\r\n\r\ninterface AppointmentProps {\r\n  appointmentData: AppointmentType;\r\n}\r\n\r\nexport function Appointment({\r\n  appointmentData,\r\n}: AppointmentProps): ReactElement {\r\n  const { user } = useUser();\r\n  const reserveAppointment = useReserveAppointment();\r\n  const [textColor, bgColor] = getAppointmentColor(appointmentData, user?.id);\r\n\r\n  const clickable = isClickable(user, appointmentData);\r\n  let onAppointmentClick: undefined | (() => void);\r\n  let hoverCss = {};\r\n\r\n  // turn the lozenge into a button if it's clickable\r\n  if (clickable) {\r\n    onAppointmentClick = user\r\n      ? () => reserveAppointment(appointmentData)\r\n      : undefined;\r\n    hoverCss = {\r\n      transform: 'translateY(-1px)',\r\n      boxShadow: 'md',\r\n      cursor: 'pointer',\r\n    };\r\n  }\r\n\r\n  const appointmentHour = dayjs(appointmentData.dateTime).format('h a');\r\n  return (\r\n    <Box\r\n      borderRadius=\"lg\"\r\n      px={2}\r\n      bgColor={bgColor}\r\n      color={textColor}\r\n      as={clickable ? 'button' : 'div'}\r\n      onClick={onAppointmentClick}\r\n      _hover={hoverCss}\r\n    >\r\n      <HStack justify=\"space-between\">\r\n        <Text as=\"span\" fontSize=\"xs\">\r\n          {appointmentHour}\r\n        </Text>\r\n        <Text as=\"span\" fontSize=\"xs\">\r\n          {appointmentData.treatmentName}\r\n        </Text>\r\n      </HStack>\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}